#!/bin/bash
# Usage of this script:
# mux new_session_name
# mux existing_session_name
# mux (will list existing sessions)

name="$1"

if [ -z "$name" ]; then
  tmux ls 2> /dev/null
  if [ $? -ne 0 ]; then
    echo "No sessions"
  fi
  exit
fi

if [ "$name" = "." ]; then
  name=${PWD##*/}
fi

if tmux has -t "$name" 2> /dev/null; then
  exec tmux attach -t "$name"
else
  exec tmux new -s "$name"
fi
